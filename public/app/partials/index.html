<div class="container">
  <div class="row">
    <div class="col-md-9">
      <h2>{{ 'running_contests' | translate }}</h2>
      <div class="card with-padding" ng-repeat="contest in runningContests">
        <div class="row margin-bottom">
          <div class="col-md-9">
            <h3 class="no-margin">
              <a ui-sref="app.contest({id: contest.id, slug: contest.slug})">
                {{ contest.name }}
              </a>
              <h3 class="no-margin"><small>{{ totalRunningAuditions(contest) }} {{ 'contestants' | translate }}</small></h3>
            </h3>
          </div>
          <div class="col-md-3 contest-counter">
            <h3 class="no-margin">
              <timer interval="60000" end-time="contest.end_date">
                {{ days }}d {{ hours }}h {{ minutes }}m {{ seconds }}s
              </timer>
            </h3>
          </div>
        </div>
        <div class="row margin-bottom">
          <div ng-repeat="audition in latestAuditions(contest)" class="col-md-4">
            <audition ng-model="audition" locale="{{ locale() }}" thumb-size="small">
            </audition>
          </div>
        </div>
        <div>
          <a ui-sref="app.contest({id: contest.id, slug: contest.slug})" class="btn btn-success btn-lg">
            {{ 'vote_now' | translate }}
          </a>
          <a ui-sref="app.joinContest({locale: locale(), id: contest.id, slug: contest.slug})" class="btn btn-primary btn-lg">
            {{ 'join_now' | translate }}
          </a>
          <a ui-sref="app.contest({id: contest.id, slug: contest.slug})" class="pull-right btn btn-default btn-lg">
            {{ 'more_contestants' | translate }}
            <span class="glyphicon glyphicon-chevron-right"></span>
          </a>
        </div>
      </div>
      <h2>{{ 'next_contests' | translate }}</h2>
      <div ng-repeat="contest in waitingContests">
        <div class="row">
          <div class="col-md-12">
            <div class="contest-cover align-center" style="background-image: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('{{ contest.image }}');">
              <a ui-sref="app.contest({id: contest.id, slug: contest.slug})">
                <h2 class="align-center no-margin">
                  {{ contest.name }}
                </h2>
              </a>
              <div>
                <h3>{{ 'remaining_contestants' | translate: {value: contestantsRemaining(contest)} }}</h3>
              </div>
              <div class="padding-top20">
                <a ui-sref="app.joinContest({locale: locale(), id: contest.id, slug: contest.slug})" class="btn btn-primary btn-lg">
                  {{ 'join_now' | translate }}
                </a>
                <a ui-sref="app.contestGuideline({locale: locale()})" class="btn btn-warning btn-lg">
                  {{ 'read_the_rules' | translate }}
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-3 align-center">
      <h2>&nbsp;</h2>
      <div class="card">
        <div class="row with-padding">
          <div class="col-md-12">
            <div class="margin-bottom">
              <h4 class="no-margin">{{ 'about_cover_academy' | translate }}</h4>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <a href="#" ng-click="openVideo()">
              <img src="https://i.ytimg.com/vi/UyHqY7i_BEQ/mqdefault.jpg"/>
            </a>
          </div>
        </div>
      </div>
      <div class="card with-padding">
        <div class="row with-separator">
          <div class="col-md-12">
            <div class="margin-bottom">
              <h4 class="no-margin">{{ 'latest_winners' | translate }}</h4>
            </div>
          </div>
        </div>
        <div class="row with-padding">
          <div class="col-md-12">
            <div ng-repeat="winnerAudition in latestWinnerAuditions">
              <a ui-sref="{{ userState(winnerAudition.user) }}">
                <div profile-picture="winnerAudition.user" class="profile-picture medium img-circle margin-auto">
                </div>
              </a>
              <h4>
                {{ winnerAudition.place }}ยบ
                <a ui-sref="{{ userState(winnerAudition.user) }}">
                  {{ winnerAudition.user.name }}
                </a>
              </h4>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-9">
          <h2>{{ 'best_covers' | translate }}</h2>
        </div>
        <div class="col-md-3 align-right">
          <h2>
            <small>
              <a ui-sref="app.coversRank({locale: locale(), rank: 'best'})" autoscroll="false">
                {{ 'more_covers' | translate }}
                <span class="glyphicon glyphicon-chevron-right"></span>
              </a>
            </small>
          </h2>
        </div>
      </div>
      <cover-songs ng-model="bestCovers" locale="{{ locale() }}" thumb-size="large"></cover-songs>
      <div class="row">
        <div class="col-md-9">
          <h2>{{ 'latest_covers' | translate }}</h2>
        </div>
        <div class="col-md-3 align-right">
          <h2>
            <small>
              <a ui-sref="app.coversRank({locale: locale(), rank: 'latest'})" autoscroll="false">
                {{ 'more_covers' | translate }}
                <span class="glyphicon glyphicon-chevron-right"></span>
              </a>
            </small>
          </h2>
        </div>
      </div>
      <cover-songs ng-model="latestCovers" locale="{{ locale() }}" thumb-size="large"></cover-songs>
    </div>
  </div>
</div>

</div>